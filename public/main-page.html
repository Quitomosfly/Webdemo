<!DOCTYPE html>
<html>
<head>
    <title>Schedule Selector</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }
        td, th {
            border: 1px solid #ccc;
            width: 100px;
            height: 40px;
            text-align: center;
            cursor: pointer;
        }
        .selected {
            background-color: #4CAF50; /* Green */
        }
    </style>
</head>
<body>
    <h2 id="eventTitle"></h2>
    <p id="eventSchedule"></p>
    <h1>Schedule Selector</h1>
    <table id="scheduleTable">
        <thead>
            <tr id="headerRow">
                <th>Time</th>
            </tr>
        </thead>
        <tbody id="tableBody"></tbody>
    </table>

    <script>
        async function loadEventDetails() {
            const urlParams = new URLSearchParams(window.location.search);
            const eventId = urlParams.get('eventId');
    
            if (!eventId) {
                alert("Event not found!");
                return;
            }
    
            try {
                const response = await fetch(`/events/${eventId}`);
                const eventData = await response.json();
    
                if (!response.ok) {
                    throw new Error(eventData.error || "Could not fetch event data.");
                }
    
                document.getElementById('eventTitle').textContent = eventData.eventName;
                document.getElementById('eventSchedule').textContent = `Type: ${eventData.scheduleType}`;
                // Populate other elements as needed
    
            } catch (error) {
                console.error("Error fetching event data:", error);
                alert("Failed to load event details.");
            }
        }
    
        document.addEventListener('DOMContentLoaded', loadEventDetails);
    </script>
</body>
</html>
